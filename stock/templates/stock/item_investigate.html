{% extends "base.html" %}
{% block content %} 

<div class='container'>
    <h1>ğŸ•µï¸â€â™‚ï¸ ì¬ê³ ì¡°ì‚¬</h1>
    <form method="post">
        {% csrf_token %}

        <p><label for="{{ form.name.id_for_label }}">ì´ë¦„: </label>{{ form.name }}</p>
        <p><label for="{{ form.typeOfItem.id_for_label }}">ì¢…ë¥˜: </label>{{ form.typeOfItem }}</p>
        <p><label for="{{ form.place.id_for_label }}">ìœ„ì¹˜: </label>{{ form.place }}</p>
        
        <!-- âœ… ë²Œí¬ ìˆ˜ëŸ‰ - ë¶€íŠ¸ìŠ¤íŠ¸ë© ìŠ¤í•€ë°•ìŠ¤ -->
        <div class="input-group mb-3">
            <label class="input-group-text" for="{{ form.amountOfBulk.id_for_label }}">ë²Œí¬ ìˆ˜ëŸ‰:</label>
            <button type="button" class="btn btn-outline-secondary" onclick="decreaseValue('id_amountOfBulk')">-</button>
            {{ form.amountOfBulk }}
            <button type="button" class="btn btn-outline-secondary" onclick="increaseValue('id_amountOfBulk')">+</button>
        </div>

        <!-- âœ… ê°œë³„ ìˆ˜ëŸ‰ - ë¶€íŠ¸ìŠ¤íŠ¸ë© ìŠ¤í•€ë°•ìŠ¤ -->
        <div class="input-group mb-3">
            <label class="input-group-text" for="{{ form.amountOfEach.id_for_label }}">ê°œë³„ ìˆ˜ëŸ‰:</label>
            <button type="button" class="btn btn-outline-secondary" onclick="decreaseValue('id_amountOfEach')">-</button>
            {{ form.amountOfEach }}
            <button type="button" class="btn btn-outline-secondary" onclick="increaseValue('id_amountOfEach')">+</button>
        </div>

        <input type="submit" class="btn btn-success" value='SAVE'>
    </form>

    <!-- âœ… ì´ì „ / ë‹¤ìŒ ë²„íŠ¼ -->
    {% if prev_item %}
        <a href='/stock/investigate_item/{{prev_item.id}}' class='btn btn-secondary'>PREV</a>
    {% endif %}
    {% if next_item %}
        <a href='/stock/investigate_item/{{next_item.id}}' class='btn btn-primary'>NEXT</a>
    {% else %}
        <a href='/stock/list' class='btn btn-warning'>FINISH</a>
    {% endif %}
</div>

<!-- âœ… JavaScript ì½”ë“œ (ë¶€íŠ¸ìŠ¤íŠ¸ë© ìŠ¤í•€ë°•ìŠ¤ ê¸°ëŠ¥ ì¶”ê°€) -->
<script>
function increaseValue(id) {
    let input = document.getElementById(id);
    let value = parseFloat(input.value) || 0;
    input.value = (value + 0.5).toFixed(1);  // 0.1 ë‹¨ìœ„ ì¦ê°€ ê°€ëŠ¥
}

function decreaseValue(id) {
    let input = document.getElementById(id);
    let value = parseFloat(input.value) || 0;
    if (value > 0) {
        input.value = (value - 0.5).toFixed(1);  // 0.1 ë‹¨ìœ„ ê°ì†Œ ê°€ëŠ¥
    }
}
</script>

{% endblock %}